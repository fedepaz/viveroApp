// prisma/schema/user.prisma

model User {
  id         String          @id @default(cuid())
  email      String          @unique
  firstName  String?
  lastName   String?
  clerkId    String          @unique
  isActive   Boolean         @default(true)
  tenantId   String
  tenant     Tenant          @relation(fields: [tenantId], references: [id], onDelete: Cascade)
  roleId     String
  role       Role            @relation(fields: [roleId], references: [id], onDelete: Restrict)
  auditLogs  AuditLog[]
  preference UserPreference?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([tenantId])
  @@index([email])
  @@map("users")
}
